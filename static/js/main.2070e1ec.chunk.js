(this["webpackJsonpspacex-react"]=this["webpackJsonpspacex-react"]||[]).push([[0],{122:function(e,t,c){},153:function(e,t,c){},154:function(e,t,c){"use strict";c.r(t);var n=c(211),a=c(213),r=c(214),i=c(212),s=c(81),o=c(0),u=c.n(o),j=c(12),l=c.n(j),b=c(210),h=c(54),d=c(14),O=(c(122),c(16)),x=c(196),m=c(197),p=c(198),f=c(106),g=c.n(f),v=c(222),k=c(195),C=c(223),F=c(52),y=c(32),L=c(62),P=c.n(L),S=c(103),w=c.n(S),D=c(80),I=c(104),N=function(){function e(){Object(F.a)(this,e),this.api="https://api.spacexdata.com/v4/launches"}return Object(y.a)(e,[{key:"getLaunches",value:function(e,t,c){var n=this,a={options:{page:e,limit:t,sort:{flight_number:"desc"}},query:{}};return c&&(a.query={name:{$regex:"".concat(c),$options:"i"}}),Object(D.a)(P.a.post("".concat(this.api,"/query"),a)).pipe(Object(I.a)((function(e){return e.data})),Object(I.a)((function(e){return{data:e.docs.map((function(e){return n.mapLaunch(e)})),total:e.totalDocs}})))}},{key:"getLaunch",value:function(e){var t=this;return Object(D.a)(P.a.get("".concat(this.api,"/").concat(e))).pipe(Object(v.a)(1),Object(I.a)((function(e){return t.mapLaunch(e.data)})))}},{key:"favourite",value:function(e){var t=this.getAllFavouriteLaunched();return t[e]?null:(t[e]=w()({luminosity:"light"}),this.storeFavourites(t),t[e])}},{key:"getFavouriteColor",value:function(e){return this.getAllFavouriteLaunched()[e]}},{key:"removeFavourite",value:function(e){var t=this.getAllFavouriteLaunched();delete t[e],this.storeFavourites(t)}},{key:"storeFavourites",value:function(e){localStorage.setItem("favouriteLaunches",JSON.stringify(e))}},{key:"getAllFavouriteLaunched",value:function(){var e=localStorage.getItem("favouriteLaunches");return e?JSON.parse(e):{}}},{key:"mapLaunch",value:function(e){var t,c;return{id:e.id,name:e.name,upcoming:e.upcoming,launchDate:e.date_utc,success:e.success,patchImage:null===(t=e.links)||void 0===t||null===(c=t.patch)||void 0===c?void 0:c.small,rocket:e.rocket,iconColor:this.getFavouriteColor(e.id)}}}]),e}(),R=Object(o.createContext)(new N),B=function(){return Object(o.useContext)(R)},A=function(){function e(){Object(F.a)(this,e),this.api="https://api.spacexdata.com/v4/rockets"}return Object(y.a)(e,[{key:"getRocket",value:function(e){var t=this;return Object(D.a)(P.a.get("".concat(this.api,"/").concat(e))).pipe(Object(I.a)((function(e){return t.mapRocketData(e.data)})))}},{key:"mapRocketData",value:function(e){return{name:e.name,type:e.type,diameter:e.diameter.meters,height:e.height.meters,mass:e.mass.kg}}}]),e}(),E=Object(o.createContext)(new A),J=c(189),q=c(220),T=c(110),M=c(192),U=c(193),$=c(194),_=c(56),H=c.n(_),W=c(55),z=c.n(W),G=c(77),K=c.n(G),Q=c(75),V=c.n(Q),X=c(76),Y=c.n(X),Z=c(2),ee=Object(J.a)((function(){return Object(q.a)({patch:{width:150,height:150}})})),te=function(e){var t=e.link,c=ee();return Object(Z.jsxs)(Z.Fragment,{children:[Object(Z.jsx)(T.a,{gutterBottom:!0,variant:"h6",component:"h3",children:"Patch image"}),t?Object(Z.jsx)(M.a,{className:c.patch,image:t,title:"Patch image"}):Object(Z.jsx)("span",{children:"N/A"})]})},ce=function(e){var t=e.launchData,c=e.onFavouriteLaunch,n=e.onRemoveFavouriteLaunch;return Object(Z.jsx)(U.a,{variant:"outlined",children:Object(Z.jsxs)($.a,{children:[Object(Z.jsxs)(T.a,{gutterBottom:!0,variant:"h5",component:"h2",children:[t.iconColor?Object(Z.jsx)(V.a,{style:{color:t.iconColor},onClick:function(){return n()}}):Object(Z.jsx)(Y.a,{onClick:function(){return c()}})," ",t.name]}),Object(Z.jsxs)("dl",{children:[Object(Z.jsx)("dt",{children:"Name"}),Object(Z.jsx)("dd",{children:t.name}),Object(Z.jsx)("dt",{children:"Launch Date"}),Object(Z.jsx)("dd",{children:t.launchDate}),Object(Z.jsx)("dt",{children:"Upcoming"}),Object(Z.jsx)("dd",{className:"upcoming-status",children:t.upcoming?Object(Z.jsx)(z.a,{}):Object(Z.jsx)(H.a,{})}),Object(Z.jsx)("dt",{children:"Success"}),Object(Z.jsx)("dd",{children:null===t.success?Object(Z.jsx)(K.a,{}):t.success?Object(Z.jsx)(z.a,{}):Object(Z.jsx)(H.a,{})})]}),Object(Z.jsx)(te,{link:t.patchImage})]})})},ne=function(e){var t=e.rocketData;return Object(Z.jsx)(U.a,{variant:"outlined",children:Object(Z.jsxs)($.a,{children:[Object(Z.jsx)(T.a,{gutterBottom:!0,variant:"h5",component:"h2",children:"Rocket"}),Object(Z.jsxs)("dl",{children:[Object(Z.jsx)("dt",{children:"Name"}),Object(Z.jsx)("dd",{children:t.name}),Object(Z.jsx)("dt",{children:"Type"}),Object(Z.jsx)("dd",{children:t.type}),Object(Z.jsx)("dt",{children:"Height"}),Object(Z.jsxs)("dd",{children:[t.mass," m"]}),Object(Z.jsx)("dt",{children:"Diameter"}),Object(Z.jsxs)("dd",{children:[t.diameter," m"]}),Object(Z.jsx)("dt",{children:"Mass"}),Object(Z.jsxs)("dd",{children:[t.mass," kg"]})]})]})})},ae=function(e){var t=e.launchId,c=Object(o.useState)(!1),n=Object(O.a)(c,2),a=n[0],r=n[1],i=Object(o.useState)(null),s=Object(O.a)(i,2),u=s[0],j=s[1],l=Object(o.useState)(null),b=Object(O.a)(l,2),d=b[0],f=b[1],F=B(),y=Object(o.useContext)(E),L=function(e){var t=Object.assign({},u);t.iconColor=e,j(t)};return Object(o.useEffect)((function(){r(!0),F.getLaunch(t).pipe(Object(v.a)(1),Object(k.a)((function(e){return j(e)})),Object(C.a)((function(e){return y.getRocket(e.rocket)})),Object(k.a)((function(e){return f(e)}))).subscribe((function(){return r(!1)}))}),[t]),Object(Z.jsxs)(Z.Fragment,{children:[Object(Z.jsxs)(x.a,{color:"primary",component:h.b,to:"/",children:[Object(Z.jsx)(g.a,{})," Back to the list"]}),a&&Object(Z.jsx)(m.a,{}),u&&d&&Object(Z.jsxs)(p.a,{container:!0,spacing:3,children:[Object(Z.jsx)(p.a,{item:!0,xs:12,sm:6,children:Object(Z.jsx)(ce,{launchData:u,onFavouriteLaunch:function(){var e=F.favourite(t);L(e)},onRemoveFavouriteLaunch:function(){F.removeFavourite(t),L()}})}),Object(Z.jsx)(p.a,{item:!0,xs:12,sm:6,children:Object(Z.jsx)(ne,{rocketData:d})})]})]})},re=c(219),ie=c(216),se=c(199),oe=c(200),ue=c(201),je=c(202),le=c(203),be=c(204),he=c(205),de=c(217),Oe=Object(J.a)((function(){return Object(q.a)({loadingIndicator:{padding:0},table:{minWidth:500}})})),xe=function(e){var t,c=Oe();return e.loading&&(t=Object(Z.jsx)(se.a,{children:Object(Z.jsx)(oe.a,{colSpan:5,className:c.loadingIndicator,children:Object(Z.jsx)(m.a,{})})})),Object(Z.jsxs)(ue.a,{children:[Object(Z.jsxs)(je.a,{className:c.table,"aria-label":"Launches table",children:[Object(Z.jsx)(le.a,{children:Object(Z.jsxs)(se.a,{children:[Object(Z.jsx)(oe.a,{}),Object(Z.jsx)(oe.a,{children:"Name"}),Object(Z.jsx)(oe.a,{children:"Launch Date"}),Object(Z.jsx)(oe.a,{children:"Upcoming"}),Object(Z.jsx)(oe.a,{children:"Successful"})]})}),Object(Z.jsxs)(be.a,{children:[t,e.data.map((function(t,c){return Object(Z.jsxs)(se.a,{hover:!0,children:[Object(Z.jsx)(oe.a,{children:t.iconColor?Object(Z.jsx)(V.a,{style:{color:t.iconColor},onClick:function(){return e.onRemoveFavouriteLaunch(t.id)}}):Object(Z.jsx)(Y.a,{onClick:function(){return e.onFavouriteLaunch(t.id)}})}),Object(Z.jsx)(oe.a,{children:Object(Z.jsx)(T.a,{children:Object(Z.jsx)(he.a,{component:h.b,to:"/launch/"+t.id,children:t.name})})}),Object(Z.jsx)(oe.a,{children:t.launchDate}),Object(Z.jsx)(oe.a,{children:t.upcoming?Object(Z.jsx)(z.a,{}):Object(Z.jsx)(H.a,{})}),Object(Z.jsx)(oe.a,{children:null==t.success?Object(Z.jsx)(K.a,{}):t.success?Object(Z.jsx)(z.a,{}):Object(Z.jsx)(H.a,{})})]},"launch-"+c)}))]})]}),Object(Z.jsx)(de.a,{component:"div",count:e.total,page:e.page,rowsPerPage:e.rowsPerPage,rowsPerPageOptions:[1,5,10,15],onChangePage:function(t,c){e.onChangePage(c)},onChangeRowsPerPage:function(t){e.onChangeRowsPerPage(parseInt(t.target.value))}})]})},me=c(208),pe=c(218),fe=c(209),ge=c(107),ve=c.n(ge),ke=function(e){var t=e.onChange;return Object(Z.jsx)(me.a,{children:Object(Z.jsx)(pe.a,{id:"launch-name",type:"search",label:"Launch name",onChange:function(e){t(e.target.value.trim())},InputProps:{startAdornment:Object(Z.jsx)(fe.a,{position:"start",children:Object(Z.jsx)(ve.a,{})})}})})},Ce=Object(J.a)((function(){return Object(q.a)({root:{width:"100%"},paper:{padding:"2rem"},searchField:{marginBottom:"2rem"}})})),Fe=function(){var e=Ce(),t=Object(o.useState)(!1),c=Object(O.a)(t,2),n=c[0],a=c[1],r=Object(o.useState)(0),i=Object(O.a)(r,2),s=i[0],u=i[1],j=Object(o.useState)(10),l=Object(O.a)(j,2),b=l[0],h=l[1],d=Object(o.useState)(0),x=Object(O.a)(d,2),m=x[0],p=x[1],f=Object(o.useState)([]),g=Object(O.a)(f,2),k=g[0],C=g[1],F=Object(o.useState)(""),y=Object(O.a)(F,2),L=y[0],P=y[1],S=Object(o.useState)((function(){return new re.a([])})),w=Object(O.a)(S,1)[0],D=Object(o.useState)((function(){return new re.a("")})),I=Object(O.a)(D,1)[0],N=B(),R=function(e,t){var c=k.map((function(e){return Object.assign({},e)})),n=c.find((function(t){return t.id==e}));n&&(n.iconColor=t),w.next(c)};return Object(o.useEffect)((function(){var e=w.subscribe(C);return function(){e.unsubscribe()}}),[]),Object(o.useEffect)((function(){a(!0),N.getLaunches(s+1,b,L||null).pipe(Object(v.a)(1)).subscribe((function(e){w.next(e.data),p(e.total),a(!1)}))}),[s,b,L]),Object(o.useEffect)((function(){var e=I.pipe(Object(ie.a)(500)).subscribe((function(e){P(e),u(0)}));return function(){e.unsubscribe()}}),[]),Object(Z.jsxs)("div",{className:e.root,children:[Object(Z.jsx)("div",{className:e.searchField,children:Object(Z.jsx)(ke,{onChange:function(e){I.next(e)}})}),Object(Z.jsx)(xe,{loading:n,data:k,total:m,page:s,rowsPerPage:b,onChangePage:function(e){u(e)},onChangeRowsPerPage:function(e){h(e),u(0)},onFavouriteLaunch:function(e){var t=N.favourite(e);R(e,t)},onRemoveFavouriteLaunch:function(e){N.removeFavourite(e),R(e)}})]})};var ye=function(){return Object(Z.jsx)(h.a,{basename:"".concat("/spacex-react","/"),children:Object(Z.jsx)(b.a,{children:Object(Z.jsxs)(d.c,{children:[Object(Z.jsx)(d.a,{path:"/launch/:id",exact:!0,render:function(e){return Object(Z.jsx)(ae,{launchId:e.match.params.id})}}),Object(Z.jsx)(d.a,{path:"/",children:Object(Z.jsx)(Fe,{})})]})})})},Le=(c(153),function(e){e&&e instanceof Function&&c.e(3).then(c.bind(null,224)).then((function(t){var c=t.getCLS,n=t.getFID,a=t.getFCP,r=t.getLCP,i=t.getTTFB;c(e),n(e),a(e),r(e),i(e)}))}),Pe=Object(n.a)({palette:{primary:i.a,secondary:s.a,type:"dark"}});l.a.render(Object(Z.jsx)(u.a.StrictMode,{children:Object(Z.jsxs)(a.a,{theme:Pe,children:[Object(Z.jsx)(r.a,{}),Object(Z.jsx)(ye,{})]})}),document.getElementById("root")),Le()}},[[154,1,2]]]);
//# sourceMappingURL=main.2070e1ec.chunk.js.map