{"version":3,"sources":["services/launch-service.tsx","services/rocket-service.tsx","components/LaunchDetails/LaunchInfo/index.tsx","components/LaunchDetails/RocketInfo/index.tsx","components/LaunchDetails/index.tsx","components/LaunchesList/LaunchesListTable/index.tsx","components/LaunchesList/SearchBar/index.tsx","components/LaunchesList/index.tsx","App.tsx","reportWebVitals.ts","index.tsx"],"names":["LaunchService","api","page","limit","name","body","options","sort","flight_number","query","$regex","$options","from","axios","post","this","pipe","map","response","data","docs","value","mapLaunch","total","totalDocs","id","get","take","allFavourites","getAllFavouriteLaunched","randomColor","luminosity","storeFavourites","favourites","localStorage","setItem","JSON","stringify","launches","getItem","parse","object","upcoming","launchDate","date_utc","success","patchImage","links","patch","small","rocket","iconColor","getFavouriteColor","LaunchServiceContext","createContext","useLaunchService","useContext","RocketService","mapRocketData","type","diameter","meters","height","mass","kg","RocketServiceContext","useStyles","makeStyles","createStyles","width","PatchImage","link","classes","Typography","gutterBottom","variant","component","CardMedia","className","image","title","LaunchInfo","launchData","onFavouriteLaunch","onRemoveFavouriteLaunch","Card","CardContent","style","color","onClick","RocketInfo","rocketData","LaunchDetails","launchId","useState","loading","setLoading","setLaunchData","setRocketData","launchService","rocketService","updateLaunchColor","updatedLaunchData","Object","assign","useEffect","getLaunch","tap","launch","mergeMap","getRocket","subscribe","IconButton","Link","to","LinearProgress","Grid","container","spacing","item","xs","sm","itemColor","favourite","removeFavourite","loadingIndicator","padding","table","minWidth","LaunchesListTable","props","TableRow","TableCell","colSpan","TableContainer","Table","aria-label","TableHead","TableBody","index","hover","RouterLink","TablePagination","count","rowsPerPage","rowsPerPageOptions","onChangePage","event","newPage","onChangeRowsPerPage","parseInt","target","SearchBar","onChange","FormControl","TextField","label","trim","InputProps","startAdornment","InputAdornment","position","root","paper","searchField","marginBottom","LaunchesList","setPage","setRowsPerPage","setTotal","setData","setQuery","BehaviorSubject","data$","searchQuery$","newData","x","find","next","sub","unsubscribe","getLaunches","debounceTime","rows","App","Container","path","exact","render","match","params","reportWebVitals","onPerfEntry","Function","then","getCLS","getFID","getFCP","getLCP","getTTFB","theme","createMuiTheme","palette","primary","lightBlue","secondary","red","ReactDOM","StrictMode","ThemeProvider","CssBaseline","document","getElementById"],"mappings":"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","file":"static/js/main.886f5ffa.chunk.js","sourcesContent":["import axios from 'axios';\nimport randomColor from 'randomcolor';\nimport {createContext, useContext} from 'react';\nimport {from, Observable} from 'rxjs';\nimport {map, take} from 'rxjs/operators';\nimport {LaunchData} from '../types/launch-data';\n\nexport interface LaunchesList {\n  data: LaunchData[],\n  total: number\n}\n\nexport class LaunchService {\n  private readonly api = 'https://api.spacexdata.com/v4/launches';\n\n  /**\n   * Fetches the paginated list of launches, ordered by flight number, desc.\n   * @param page The page number. Indexing started from the 1\n   * @param limit The page size\n   * @param name The optional name filter\n   */\n  public getLaunches(page: number, limit: number, name: string | null): Observable<LaunchesList> {\n    const body = {\n      options: {page, limit, sort: {flight_number: 'desc'}},\n      query: {}\n    };\n\n    if (name) {\n      body.query = {\n        name: {\n          $regex: `${name}`,\n          $options: 'i'\n        }\n      }\n    }\n\n    return from(axios.post(`${this.api}/query`, body))\n      .pipe(\n        map(response => response.data),\n        map(response => ({\n            data: response.docs.map((value: any) => this.mapLaunch(value)),\n            total: response.totalDocs,\n          })\n        )\n      );\n  }\n\n  /**\n   * Fetches the single launch data\n   * @param id The launch id\n   */\n  public getLaunch(id: string) {\n    return from(axios.get(`${this.api}/${id}`))\n      .pipe(\n        take(1),\n        map(response => this.mapLaunch(response.data))\n      )\n  }\n\n  /**\n   * Favourites the launch by it's id and applying randomly the color to it.\n   * @param id The launch id\n   * @return {string | null} The hex generated color if the launch is not marked as favourite\n   */\n  public favourite(id: string): string | null {\n    const allFavourites = this.getAllFavouriteLaunched();\n    if (!allFavourites[id]) {\n      allFavourites[id] = randomColor({luminosity: 'light'});\n      this.storeFavourites(allFavourites);\n\n      return allFavourites[id];\n    }\n\n    return null;\n  }\n\n  /**\n   * Returns the hex color of the launch (if the launch is favourited)\n   * @param id The launch id\n   */\n  public getFavouriteColor(id: string) {\n    return this.getAllFavouriteLaunched()[id];\n  }\n\n  /**\n   * Removes the favourite status of the launch\n   * @param id The launch id\n   */\n  public removeFavourite(id: string) {\n    const allFavourites = this.getAllFavouriteLaunched();\n    delete allFavourites[id];\n\n    this.storeFavourites(allFavourites);\n  }\n\n  private storeFavourites(favourites: any) {\n    localStorage.setItem('favouriteLaunches', JSON.stringify(favourites));\n  }\n\n  private getAllFavouriteLaunched(): any {\n    const launches = localStorage.getItem('favouriteLaunches');\n\n    return launches ? JSON.parse(launches) : {};\n  }\n\n  private mapLaunch(object: any): LaunchData {\n    return {\n      id: object.id,\n      name: object.name,\n      upcoming: object.upcoming,\n      launchDate: object.date_utc,\n      success: object.success,\n      patchImage: object.links?.patch?.small,\n      rocket: object.rocket,\n      iconColor: this.getFavouriteColor(object.id)\n    }\n  }\n}\n\nconst LaunchServiceContext = createContext<LaunchService>(new LaunchService());\n\nexport const useLaunchService = () => {\n  return useContext(LaunchServiceContext);\n}\n","import axios from 'axios';\nimport {createContext, useContext} from 'react';\nimport {from} from 'rxjs';\nimport {map} from 'rxjs/operators';\n\nexport class RocketService {\n  private readonly api = 'https://api.spacexdata.com/v4/rockets';\n\n  /**\n   * Fetches the single rocket data\n   * @param id The rocket id\n   */\n  public getRocket(id: string) {\n    return from(axios.get(`${this.api}/${id}`))\n      .pipe(\n        map(response => this.mapRocketData(response.data)),\n      )\n  }\n\n  private mapRocketData(object: any) {\n    return {\n      name: object.name,\n      type: object.type,\n      diameter: object.diameter.meters,\n      height: object.height.meters,\n      mass: object.mass.kg\n    }\n  }\n}\n\nconst RocketServiceContext = createContext<RocketService>(new RocketService());\n\nexport const useRocketService = () => {\n  return useContext(RocketServiceContext);\n}\n","import {Card, CardContent, CardMedia, createStyles, makeStyles, Typography} from '@material-ui/core';\nimport ClearIcon from '@material-ui/icons/Clear';\nimport DoneIcon from '@material-ui/icons/Done';\nimport HelpOutlineIcon from '@material-ui/icons/HelpOutline';\nimport StarIcon from '@material-ui/icons/Star';\nimport StarBorderIcon from '@material-ui/icons/StarBorder';\nimport React from 'react';\nimport {LaunchData} from '../../../types/launch-data';\n\ninterface LaunchInfoProps {\n  launchData: LaunchData;\n  onFavouriteLaunch: () => void;\n  onRemoveFavouriteLaunch: () => void;\n}\n\nconst useStyles = makeStyles(() =>\n  createStyles({\n    patch: {\n      width: 150,\n      height: 150\n    }\n  }),\n);\n\nconst PatchImage = ({link}: { link?: string }) => {\n  const classes = useStyles();\n\n  return (\n    <>\n      <Typography gutterBottom variant=\"h6\" component=\"h3\">\n        Patch image\n      </Typography>\n      {link ?\n        <CardMedia\n          className={classes.patch}\n          image={link}\n          title=\"Patch image\"\n        />\n        : <span>N/A</span>\n      }\n    </>\n  )\n}\n\nconst LaunchInfo = ({launchData, onFavouriteLaunch, onRemoveFavouriteLaunch}: LaunchInfoProps) => {\n  return (\n    <Card variant=\"outlined\">\n      <CardContent>\n\n        <Typography gutterBottom variant=\"h5\" component=\"h2\">\n          {launchData.iconColor ?\n            <StarIcon style={{color: launchData.iconColor}}\n                      onClick={() => onRemoveFavouriteLaunch()}/> :\n            <StarBorderIcon onClick={() => onFavouriteLaunch()}/>\n          } {launchData.name}\n        </Typography>\n\n        <dl>\n          <dt>Name</dt>\n          <dd>{launchData.name}</dd>\n          <dt>Launch Date</dt>\n          <dd>{launchData.launchDate}</dd>\n          <dt>Upcoming</dt>\n          <dd className=\"upcoming-status\">\n            {launchData.upcoming\n              ? <DoneIcon/>\n              : <ClearIcon/>\n            }\n          </dd>\n          <dt>Success</dt>\n          <dd>\n            {launchData.success === null\n              ? <HelpOutlineIcon/>\n              : launchData.success ? <DoneIcon/> : <ClearIcon/>\n            }\n          </dd>\n        </dl>\n\n        <PatchImage link={launchData.patchImage}/>\n      </CardContent>\n    </Card>\n  )\n}\n\nexport default LaunchInfo;\n","import {Card, CardContent, Typography} from '@material-ui/core';\nimport React from 'react';\nimport {RocketData} from '../../../types/rocket-data';\n\ninterface RocketInfoProps {\n  rocketData: RocketData\n}\n\nconst RocketInfo = ({rocketData}: RocketInfoProps) => {\n  return (\n    <Card variant=\"outlined\">\n      <CardContent>\n        <Typography gutterBottom variant=\"h5\" component=\"h2\">\n          Rocket\n        </Typography>\n        <dl>\n          <dt>Name</dt>\n          <dd>{rocketData.name}</dd>\n          <dt>Type</dt>\n          <dd>{rocketData.type}</dd>\n          <dt>Height</dt>\n          <dd>{rocketData.mass} m</dd>\n          <dt>Diameter</dt>\n          <dd>{rocketData.diameter} m</dd>\n          <dt>Mass</dt>\n          <dd>{rocketData.mass} kg</dd>\n        </dl>\n      </CardContent>\n    </Card>\n  )\n}\n\nexport default RocketInfo;\n","import {Grid, IconButton, LinearProgress} from '@material-ui/core';\nimport ArrowBackIosIcon from '@material-ui/icons/ArrowBackIos';\nimport React, {useEffect, useState} from 'react';\nimport {Link} from 'react-router-dom';\nimport {mergeMap, take, tap} from 'rxjs/operators';\nimport {useLaunchService} from '../../services/launch-service';\nimport {useRocketService} from '../../services/rocket-service';\nimport {LaunchData} from '../../types/launch-data';\nimport {RocketData} from '../../types/rocket-data';\nimport LaunchInfo from './LaunchInfo';\nimport RocketInfo from './RocketInfo';\n\nconst LaunchDetails = ({launchId}: { launchId: string }) => {\n  const [loading, setLoading] = useState(false);\n  const [launchData, setLaunchData] = useState<LaunchData | null>(null);\n  const [rocketData, setRocketData] = useState<RocketData | null>(null);\n  const launchService = useLaunchService();\n  const rocketService = useRocketService();\n\n  const handleFavouriteLaunch = () => {\n    const itemColor = launchService.favourite(launchId);\n    updateLaunchColor(itemColor!);\n  }\n\n  const handleRemoveFavouriteLaunch = () => {\n    launchService.removeFavourite(launchId);\n    updateLaunchColor();\n  }\n\n  const updateLaunchColor = (color?: string) => {\n    const updatedLaunchData = Object.assign({}, launchData);\n    updatedLaunchData.iconColor = color;\n\n    setLaunchData(updatedLaunchData);\n  }\n\n  useEffect(() => {\n    function getLaunchData() {\n      setLoading(true);\n      launchService.getLaunch(launchId)\n        .pipe(\n          take(1),\n          tap(launch => setLaunchData(launch)),\n          mergeMap(launch => rocketService.getRocket(launch.rocket)),\n          tap(rocket => setRocketData(rocket))\n        ).subscribe(() => setLoading(false));\n    }\n\n    getLaunchData();\n  }, [launchId]);\n\n  return (\n    <>\n      <IconButton color=\"primary\" component={Link} to=\"/\">\n        <ArrowBackIosIcon/> Back to the list\n      </IconButton>\n      {loading && <LinearProgress/>}\n      {launchData && rocketData &&\n      <Grid container spacing={3}>\n        <Grid item xs={12} sm={6}>\n          <LaunchInfo launchData={launchData}\n                      onFavouriteLaunch={handleFavouriteLaunch}\n                      onRemoveFavouriteLaunch={handleRemoveFavouriteLaunch}/>\n        </Grid>\n        <Grid item xs={12} sm={6}>\n          <RocketInfo rocketData={rocketData}/>\n        </Grid>\n      </Grid>\n      }\n    </>\n  )\n}\n\nexport default LaunchDetails;\n","import {\n  createStyles,\n  LinearProgress,\n  Link,\n  makeStyles,\n  Table,\n  TableBody,\n  TableCell,\n  TableContainer,\n  TableHead,\n  TablePagination,\n  TableRow,\n  Typography\n} from '@material-ui/core';\nimport ClearIcon from '@material-ui/icons/Clear';\nimport DoneIcon from '@material-ui/icons/Done';\nimport HelpOutlineIcon from '@material-ui/icons/HelpOutline';\nimport StarIcon from '@material-ui/icons/Star';\nimport StarBorderIcon from '@material-ui/icons/StarBorder';\nimport React from 'react';\nimport {Link as RouterLink} from 'react-router-dom';\nimport {LaunchData} from '../../../types/launch-data';\n\ninterface LaunchesListTableProps {\n  loading: boolean\n  data: LaunchData[];\n  page: number;\n  total: number;\n  rowsPerPage: number;\n  onChangePage: (pageNumber: number) => void;\n  onChangeRowsPerPage: (rows: number) => void;\n  onFavouriteLaunch: (id: string) => void;\n  onRemoveFavouriteLaunch: (id: string) => void;\n}\n\nconst useStyles = makeStyles(() =>\n  createStyles({\n    loadingIndicator: {\n      padding: 0\n    },\n    table: {\n      minWidth: 500\n    }\n  })\n);\n\nconst LaunchesListTable = (props: LaunchesListTableProps) => {\n  const classes = useStyles();\n\n  const handleChangePage = (event: unknown, newPage: number) => {\n    props.onChangePage(newPage);\n  };\n\n  const handleChangeRowsPerPage = (event: React.ChangeEvent<HTMLInputElement>) => {\n    props.onChangeRowsPerPage(parseInt(event.target.value));\n  };\n\n  let loadingIndicator;\n  if (props.loading) {\n    loadingIndicator = (\n      <TableRow>\n        <TableCell colSpan={5} className={classes.loadingIndicator}>\n          <LinearProgress/>\n        </TableCell>\n      </TableRow>\n    );\n  }\n\n  return (\n    <TableContainer>\n      <Table className={classes.table} aria-label=\"Launches table\">\n        <TableHead>\n          <TableRow>\n            <TableCell/>\n            <TableCell>Name</TableCell>\n            <TableCell>Launch Date</TableCell>\n            <TableCell>Upcoming</TableCell>\n            <TableCell>Successful</TableCell>\n          </TableRow>\n        </TableHead>\n        <TableBody>\n          {loadingIndicator}\n          {props.data.map((value, index) => (\n            <TableRow hover key={'launch-' + index}>\n              <TableCell>\n                {value.iconColor\n                  ? <StarIcon style={{color: value.iconColor}} onClick={() => props.onRemoveFavouriteLaunch(value.id)}/>\n                  : <StarBorderIcon onClick={() => props.onFavouriteLaunch(value.id)}/>\n                }\n              </TableCell>\n              <TableCell>\n                <Typography>\n                  <Link component={RouterLink} to={'/launch/' + value.id}>{value.name}</Link>\n                </Typography>\n              </TableCell>\n              <TableCell>\n                {value.launchDate}\n              </TableCell>\n              <TableCell>\n                {value.upcoming\n                  ? <DoneIcon/>\n                  : <ClearIcon/>\n                }\n              </TableCell>\n              <TableCell>\n                {value.success == null\n                  ? <HelpOutlineIcon/>\n                  : value.success\n                    ? <DoneIcon/>\n                    : <ClearIcon/>\n                }\n              </TableCell>\n            </TableRow>\n          ))}\n        </TableBody>\n      </Table>\n      <TablePagination\n        component=\"div\"\n        count={props.total}\n        page={props.page}\n        rowsPerPage={props.rowsPerPage}\n        rowsPerPageOptions={[1, 5, 10, 15]}\n\n        onChangePage={handleChangePage}\n        onChangeRowsPerPage={handleChangeRowsPerPage}\n      />\n    </TableContainer>\n  );\n};\n\nexport default LaunchesListTable;\n","import {FormControl, InputAdornment, TextField} from '@material-ui/core';\nimport SearchIcon from '@material-ui/icons/Search';\nimport React, {ChangeEvent} from 'react';\n\ninterface SearchBarProps {\n  onChange: (value: string) => void;\n}\n\nconst SearchBar = ({onChange}: SearchBarProps) => {\n\n  const handleOnChange = (event: ChangeEvent<HTMLInputElement>) => {\n    onChange(event.target.value.trim());\n  }\n\n  return (\n    <FormControl>\n      <TextField\n        id=\"launch-name\"\n        type=\"search\"\n        label=\"Launch name\"\n        onChange={handleOnChange}\n        InputProps={{\n          startAdornment: (\n            <InputAdornment position=\"start\">\n              <SearchIcon/>\n            </InputAdornment>\n          )\n        }}\n      />\n    </FormControl>\n  );\n}\n\nexport default SearchBar;\n","import {createStyles, makeStyles} from '@material-ui/core';\nimport React, {useEffect, useState} from 'react';\nimport {BehaviorSubject} from 'rxjs';\nimport {debounceTime, take} from 'rxjs/operators';\nimport {useLaunchService} from '../../services/launch-service';\nimport {LaunchData} from '../../types/launch-data';\nimport LaunchesListTable from './LaunchesListTable';\nimport SearchBar from './SearchBar';\n\nconst useStyles = makeStyles(() =>\n  createStyles({\n    root: {\n      width: '100%'\n    },\n    paper: {\n      padding: '2rem'\n    },\n    searchField: {\n      marginBottom: '2rem'\n    }\n  }),\n);\n\nconst LaunchesList = () => {\n  const classes = useStyles();\n\n  const [loading, setLoading] = useState(false);\n  const [page, setPage] = useState(0);\n  const [rowsPerPage, setRowsPerPage] = useState(10);\n  const [total, setTotal] = useState(0);\n  const [data, setData] = useState([] as LaunchData[]);\n  const [query, setQuery] = useState('');\n\n  const [data$] = useState(() => new BehaviorSubject([] as LaunchData[]));\n  const [searchQuery$] = useState(() => new BehaviorSubject(''));\n\n  const launchService = useLaunchService();\n\n  const handleChangePage = (newPage: number) => {\n    setPage(newPage);\n  }\n\n  const handleChangeRowsPerPage = (rows: number) => {\n    setRowsPerPage(rows);\n    setPage(0);\n  }\n\n  const handleQueryInput = (value: string) => {\n    searchQuery$.next(value);\n  }\n\n  const handleFavouriteLaunch = (id: string) => {\n    const itemColor = launchService.favourite(id);\n    updateLaunchColor(id, itemColor!);\n  }\n\n  const handleRemoveFavouriteLaunch = (id: string) => {\n    launchService.removeFavourite(id);\n    updateLaunchColor(id);\n  }\n\n  const updateLaunchColor = (id: string, color?: string) => {\n    // Deep clone data\n    const newData = data.map(x => Object.assign({}, x));\n    const launchData = newData.find(launch => launch.id == id);\n    if (launchData) {\n      launchData.iconColor = color;\n    }\n\n    data$.next(newData);\n  }\n\n  useEffect(() => {\n    const sub = data$.subscribe(setData)\n    return () => {\n      sub.unsubscribe();\n    }\n  }, []);\n\n  useEffect(() => {\n    function getLaunches() {\n      setLoading(true);\n      launchService.getLaunches(page + 1, rowsPerPage, query ? query : null)\n        .pipe(take(1))\n        .subscribe(response => {\n          data$.next(response.data);\n          setTotal(response.total);\n          setLoading(false);\n        });\n    }\n\n    getLaunches();\n  }, [page, rowsPerPage, query]);\n\n  useEffect(() => {\n    const sub = searchQuery$\n      .pipe(debounceTime(500))\n      .subscribe(setQuery);\n\n    return () => {\n      sub.unsubscribe();\n    }\n  })\n\n  return (\n    <div className={classes.root}>\n      <div className={classes.searchField}>\n        <SearchBar onChange={handleQueryInput}/>\n      </div>\n\n      <LaunchesListTable\n        loading={loading}\n        data={data}\n        total={total}\n        page={page}\n        rowsPerPage={rowsPerPage}\n        onChangePage={handleChangePage}\n        onChangeRowsPerPage={handleChangeRowsPerPage}\n        onFavouriteLaunch={handleFavouriteLaunch}\n        onRemoveFavouriteLaunch={handleRemoveFavouriteLaunch}\n      />\n    </div>\n  )\n}\n\nexport default LaunchesList;\n","import {Container} from '@material-ui/core';\nimport React from 'react';\nimport {RouteComponentProps} from 'react-router';\nimport {BrowserRouter as Router, Route, Switch} from 'react-router-dom';\nimport './App.css';\nimport LaunchDetails from './components/LaunchDetails';\nimport LaunchesList from './components/LaunchesList';\n\nfunction App() {\n  return (\n    <Router>\n      <Container>\n        <Switch>\n          <Route path=\"/launch/:id\"\n                 exact\n                 render={(props: RouteComponentProps<any>) =>\n                   <LaunchDetails launchId={props.match.params.id}/>\n                 }\n          />\n          <Route path=\"/\">\n            <LaunchesList/>\n          </Route>\n        </Switch>\n      </Container>\n    </Router>\n  );\n}\n\nexport default App;\n","import { ReportHandler } from 'web-vitals';\n\nconst reportWebVitals = (onPerfEntry?: ReportHandler) => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import {CssBaseline, ThemeProvider, unstable_createMuiStrictModeTheme as createMuiTheme} from '@material-ui/core';\nimport {lightBlue, red} from '@material-ui/core/colors';\nimport React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\nimport './index.css';\nimport reportWebVitals from './reportWebVitals';\n\nconst theme = createMuiTheme({\n  palette: {\n    primary: lightBlue,\n    secondary: red,\n    type: 'dark'\n  },\n});\n\nReactDOM.render(\n  <React.StrictMode>\n    <ThemeProvider theme={theme}>\n      <CssBaseline/>\n      <App/>\n    </ThemeProvider>\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}